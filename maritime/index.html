<!doctype html>

<html lang="en">

<head>
    <meta charset="utf-8">
    <title>Maritime build</title>
    <meta name="description" content="The HTML5 Herald">
    <meta name="author" content="SitePoint">
    <style>
        #map {
            height: 100%;
        }

        html,
        body {
            height: 100%;
            margin: 0;
            padding: 0;
        }
    </style>
</head>

<body onload="loadMap()">
    <div id="map"></div>
    <script>

        // fake JSON call
        function getJSONMarkers() {
            const markers = [
                {
                    name: 'Ship 1',
                    icon: 'img/ship-type-1.png',
                    imoNumber: '9778856',
                    name: 'MAJESTIC PRINCESS',
                    length: 330,
                    beam: 38,
                    deadweight: '11277',
                    crane1: '-',
                    crane2: '-',
                    maximumLiftWeight: '3000',
                    owner: 'Malin Abram',
                    ownerEmail: 'owner@owner.com',
                    brokerEmail: 'broker@broker.com',
                    nextOpenPort: 'Edinburgh',
                    nextOpenPortDate: '2020.02.20',
                    referencePdfs: 'https://www.w3.org/WAI/ER/tests/xhtml/testfiles/resources/pdf/dummy.pdf',
                    location: [56.153709, -2.480516]

                },
                {
                    name: 'Ship 2',
                    icon: 'img/ship-type-2.png',
                    imoNumber: '9778856',
                    name: 'SCOTTISH MYTH',
                    length: 230,
                    beam: 28,
                    deadweight: '8277',
                    crane1: '-',
                    crane2: '-',
                    maximumLiftWeight: '3000',
                    owner: 'Malin Abram',
                    ownerEmail: 'owner@owner.com',
                    brokerEmail: 'broker@broker.com',
                    nextOpenPort: 'Edinburgh',
                    nextOpenPortDate: '2020.02.20',
                    referencePdfs: 'https://www.w3.org/WAI/ER/tests/xhtml/testfiles/resources/pdf/dummy.pdf',
                    location: [57.304286, -0.763677]
                },
                {
                    name: 'Ship 3',
                    icon: 'img/ship-type-3.png',
                    imoNumber: '9778856',
                    name: 'RED OCTOBER',
                    length: 200,
                    beam: 40,
                    deadweight: '10277',
                    crane1: '-',
                    crane2: '-',
                    maximumLiftWeight: '5000',
                    owner: 'Harry Potter',
                    ownerEmail: 'owner@owner.com',
                    brokerEmail: 'broker@broker.com',
                    nextOpenPort: 'Edinburgh',
                    nextOpenPortDate: '2020.02.20',
                    referencePdfs: 'https://www.w3.org/WAI/ER/tests/xhtml/testfiles/resources/pdf/dummy.pdf',
                    location: [56.054064, 2.506865]
                }
            ];
            return markers;
        }

        function loadMap() {
            // Initialize Google Maps
            const mapOptions = {
                center: new google.maps.LatLng(56.568757, -1.436070),
                zoom: 7,
                disableDefaultUI: true,
                styles: [
                    {
                        "elementType": "geometry",
                        "stylers": [
                            {
                                "color": "#212121"
                            }
                        ]
                    },
                    {
                        "elementType": "labels.icon",
                        "stylers": [
                            {
                                "visibility": "off"
                            }
                        ]
                    },
                    {
                        "elementType": "labels.text.fill",
                        "stylers": [
                            {
                                "color": "#757575"
                            }
                        ]
                    },
                    {
                        "elementType": "labels.text.stroke",
                        "stylers": [
                            {
                                "color": "#212121"
                            }
                        ]
                    },
                    {
                        "featureType": "administrative",
                        "elementType": "geometry",
                        "stylers": [
                            {
                                "color": "#757575"
                            }
                        ]
                    },
                    {
                        "featureType": "administrative.country",
                        "elementType": "labels.text.fill",
                        "stylers": [
                            {
                                "color": "#9e9e9e"
                            }
                        ]
                    },
                    {
                        "featureType": "administrative.land_parcel",
                        "stylers": [
                            {
                                "visibility": "off"
                            }
                        ]
                    },
                    {
                        "featureType": "administrative.locality",
                        "elementType": "labels.text.fill",
                        "stylers": [
                            {
                                "color": "#bdbdbd"
                            }
                        ]
                    },
                    {
                        "featureType": "poi",
                        "elementType": "labels.text.fill",
                        "stylers": [
                            {
                                "color": "#757575"
                            }
                        ]
                    },
                    {
                        "featureType": "poi.park",
                        "elementType": "geometry",
                        "stylers": [
                            {
                                "color": "#181818"
                            }
                        ]
                    },
                    {
                        "featureType": "poi.park",
                        "elementType": "labels.text.fill",
                        "stylers": [
                            {
                                "color": "#616161"
                            }
                        ]
                    },
                    {
                        "featureType": "poi.park",
                        "elementType": "labels.text.stroke",
                        "stylers": [
                            {
                                "color": "#1b1b1b"
                            }
                        ]
                    },
                    {
                        "featureType": "road",
                        "elementType": "geometry.fill",
                        "stylers": [
                            {
                                "color": "#2c2c2c"
                            }
                        ]
                    },
                    {
                        "featureType": "road",
                        "elementType": "labels.text.fill",
                        "stylers": [
                            {
                                "color": "#8a8a8a"
                            }
                        ]
                    },
                    {
                        "featureType": "road.arterial",
                        "elementType": "geometry",
                        "stylers": [
                            {
                                "color": "#373737"
                            }
                        ]
                    },
                    {
                        "featureType": "road.highway",
                        "elementType": "geometry",
                        "stylers": [
                            {
                                "color": "#3c3c3c"
                            }
                        ]
                    },
                    {
                        "featureType": "road.highway.controlled_access",
                        "elementType": "geometry",
                        "stylers": [
                            {
                                "color": "#4e4e4e"
                            }
                        ]
                    },
                    {
                        "featureType": "road.local",
                        "elementType": "labels.text.fill",
                        "stylers": [
                            {
                                "color": "#616161"
                            }
                        ]
                    },
                    {
                        "featureType": "transit",
                        "elementType": "labels.text.fill",
                        "stylers": [
                            {
                                "color": "#757575"
                            }
                        ]
                    },
                    {
                        "featureType": "water",
                        "elementType": "geometry",
                        "stylers": [
                            {
                                "color": "#000000"
                            }
                        ]
                    },
                    {
                        "featureType": "water",
                        "elementType": "labels.text.fill",
                        "stylers": [
                            {
                                "color": "#3d3d3d"
                            }
                        ]
                    }
                ]
            }
            const map = new google.maps.Map(document.getElementById("map"), mapOptions);





            // JSON betöltés
            const shipMarkers = getJSONMarkers();

            // Initialize Google Markers
            for (ship of shipMarkers) {

                let infowindow = new google.maps.InfoWindow({
                    content: `
                    <strong>IMO Number:</strong> ${ship.imoNumber}<br>
                    <strong>Name:</strong> ${ship.name}<br>
                    <strong>Length(m):</strong> ${ship.length}<br>
                    <strong>Beam(m):</strong> ${ship.beam}<br>
                    <strong>Deadweight(kg):</strong> ${ship.deadweight}<br>
                    <strong>Crane 1:</strong> ${ship.crane1}<br>
                    <strong>Crane 2:</strong> ${ship.crane2}<br>
                    <strong>Maximum Lift Weight(kg):</strong> ${ship.maximumLiftWeight}<br>
                    <strong>Owner:</strong> ${ship.owner}<br>
                    <strong>Owner email:</strong> ${ship.ownerEmail}<br>
                    <strong>Broker email:</strong> ${ship.brokerEmail}<br>
                    <strong>Next Open Port:</strong> ${ship.nextOpenPort}<br>
                    <strong>Next Open Port Date:</strong> ${ship.nextOpenPortDate}<br>
                    <strong>Reference PDF:</strong> <a href="${ship.referencePdfs}" target="_blank">Click here</a><br>
                    <strong>Location:</strong> ${ship.location}`,



                    maxWidth: 360
                });

                let marker = new google.maps.Marker({
                    map: map,
                    animation: google.maps.Animation.DROP,
                    position: new google.maps.LatLng(ship.location[0], ship.location[1]),
                    title: ship.name,
                    icon: ship.icon
                });
                marker.addListener('click', function () {
                    infowindow.open(map, marker);
                });
            }
        }
    </script>
    <script async defer
        src="https://maps.googleapis.com/maps/api/js?key=AIzaSyBIR1Srng5YZ6lQLfOfuhiProsp175keM0&callback=initMap">
        </script>
</body>

</html>